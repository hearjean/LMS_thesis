<dir-admin-nav></dir-admin-nav>

<div class="container">
    <h1 class="big-header">Users <small>{{filteredUsers.length}}</small></h1>
    <input type="button" class="btn btn-info pull-right" data-target="#addAdmin" data-toggle="modal" value="Add admin">
</div>

<div class="container ">
  <div class="col-md-3 col-xs-12 admin-controls">
    <input type="search" ng-model="searchUsers" class="form-control" placeholder="Search">
  </div>

</div>


<section ng-include src="'components/modals/addAdmin.html'"></section>
<div class="container table-outline">
  <table class="table table-striped table-hover table-responsive">
    <thead>
      <tr>
        <!-- <th><input type="checkbox" ng-model="selectedAll" ng-click="checkAll()"></th> -->
        <!-- <th>
          <a ng-click="sortType = 'uid'; sortReverse = !sortReverse">
            uid
          <span ng-show="sortType == 'uid' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'uid' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </th> -->
        <th>
          <a ng-click="sortType = 'utype'; sortReverse = !sortReverse">
            userType
          <span ng-show="sortType == 'utype' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'utype' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </th>
        <th>
          <a ng-click="sortType = 'firstname'; sortReverse = !sortReverse">
            Firstname
          <span ng-show="sortType == 'firstname' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'firstname' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </th>
        <th>
          <a ng-click="sortType = 'lastname'; sortReverse = !sortReverse">
            Lastname
          <span ng-show="sortType == 'lastname' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'lastname' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </th>
        <th>
          <a ng-click="sortType = 'email'; sortReverse = !sortReverse">
            Email
          <span ng-show="sortType == 'email' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'email' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </th>
        <th>
          <a ng-click="sortType = 'isActive'; sortReverse = !sortReverse">
            isActive
          <span ng-show="sortType == 'isActive' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'isActive' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="user in theUsers | orderBy:sortType:sortReverse | filter: searchUsers as filteredUsers">
        <!-- <td>{{ user.uid}}</td> -->
        <td>{{ user.utype}}</td>
        <td>{{ user.firstname}}</td>
        <td>{{ user.lastname}}</td>
        <td>{{ user.email}}</td>
        <td>{{ user.isActive}}</td>
        <td>
          <button type="button" class="btn btn-danger" ng-click="deactvate(user.$id)" ng-show="user.isActive == true && user.utype !== 'admin'">Deactivate</button>
          <button type="button" class="btn btn-success" ng-click="activate(user.$id)" ng-show="user.isActive == false && user.utype !== 'admin'">Activate</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
